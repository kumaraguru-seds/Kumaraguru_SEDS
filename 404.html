<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
    <script>
        (async function() {
            const path = window.location.pathname.substring(1).split('?')[0]; // Get slug before query params

            // Redirect to admin page if needed
            if (!path || path.toLowerCase() === 'shorturl.html' || path.toLowerCase() === 'index.html') {
                window.location.replace('/shorturl.html'); // Adjust if needed
                return;
            }

            // Cache-busting query parameter for fetching links.json
            const linksJsonUrl = `/links.json?t=${Date.now()}`;
            const messageEl = document.getElementById("message");
            const subMessageEl = document.getElementById("submessage");

            try {
                const response = await fetch(linksJsonUrl, { cache: "no-store" }); // Force fresh fetch

                if (!response.ok) {
                    if (response.status === 404) {
                         throw new Error(`Links data file not found. Sync from admin page might be pending or failed.`);
                    }
                    throw new Error(`Could not load links data (${response.status})`);
                }

                const linksData = await response.json();
                const decodedPath = decodeURIComponent(path);

                // Find the long URL (case-sensitive lookup by default)
                const longUrl = linksData[decodedPath];

                if (longUrl && typeof longUrl === 'string' && longUrl.startsWith('http')) {
                    console.log(`Redirecting '${decodedPath}' to -> ${longUrl}`);
                    // Perform redirect immediately
                    window.location.replace(longUrl);
                } else {
                     if (longUrl) {
                         throw new Error(`Invalid URL found for '/${decodedPath}'.`);
                     } else {
                         throw new Error(`Short link '/${decodedPath}' not found in links data.`);
                     }
                }

            } catch (error) {
                console.error("Redirect failed:", error);
                if (messageEl) messageEl.textContent = `Error: Link Not Found`;
                if (subMessageEl) subMessageEl.textContent = error.message;
            }
        })();
    </script>
    <meta name="author" content="Manikandan N">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kumaraguruseds.space/">
  <meta property="og:title" content="Kumaraguru SEDS">
  <meta property="og:description" content="Kumaraguru SEDS is a student-driven chapter dedicated to space exploration, astronomy, and aerospace innovation. We conduct hands-on workshops, stargazing sessions, and technical projects to inspire curiosity and scientific learning. Our mission is to empower young minds to explore the universe and contribute to the advancement of space science and technology.">
  <meta property="og:image" content="https://kumaraguruseds.space/sedsb.png">
  <link rel="icon" href="sedsb.png" type="image/png">
<style> body { font-family: sans-serif; text-align: center; padding-top: 100px; color: #333; } </style>
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Kumaraguru SEDS",
    "url": "https://kumaraguruseds.space/",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://kumaraguruseds.space/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Kumaraguru SEDS",
    "url": "https://kumaraguruseds.space/",
    "logo": "https://kumaraguruseds.space/sedsb.png",
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "seds@kct.ac.in",
      "telephone": "+91-9344752075",
      "contactType": "Customer Support",
      "areaServed": "IN",
      "availableLanguage": "English"
    },
    "sameAs": [
      "https://youtube.com/@kumaraguru_seds",
      "https://www.linkedin.com/company/seds-kct/",
      "https://www.instagram.com/seds_kumaraguru/"
    ]
  }
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SiteNavigationElement",
    "name": [
      "Home",
      "Vision",
      "Mission",
      "Staff Coordinator",
      "Our Teams",
      "Contact Us",
      "Events",
      "Kosmorena'25",
      "Kosmorena'24",
      "Kosmorena'21",
      "Events Team Members",
      "PR Team Members",
      "Admin Team Members",
      "IM & PM Team Members",
      "Media Team Members",
      "Finance Team Members",
      "Astronomy Team Members"
    ],
    "url": [
      "https://kumaraguruseds.space/#home",
      "https://kumaraguruseds.space/#vision",
      "https://kumaraguruseds.space/#mission",
      "https://kumaraguruseds.space/#staff",
      "https://kumaraguruseds.space/#teams",
      "https://kumaraguruseds.space/#contact",
      "https://kumaraguruseds.space/Events.html",
      "https://kumaraguruseds.space/Kosmorena25.html",
      "https://kumaraguruseds.space/Kosmorena24.html",
      "https://sedsalpha.wordpress.com/kosmorena-2021/",
      "https://kumaraguruseds.space/team_members_event.html",
      "https://kumaraguruseds.space/team_members_pr.html",
      "https://kumaraguruseds.space/team_members_admin.html",
      "https://kumaraguruseds.space/team_members_impm.html",
      "https://kumaraguruseds.space/team_members_media.html",
      "https://kumaraguruseds.space/team_members_finance.html",
      "https://kumaraguruseds.space/astronomy_team_members.html"
    ]
  }
  </script>
</head>
<body>
    <h1 id="message">Looking up short link...</h1>
    <p id="submessage">Please wait a moment.</p>
</body>
</html>
