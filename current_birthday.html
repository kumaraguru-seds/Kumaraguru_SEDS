<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="sedsb.png" type="image/png">
    <title>A Birthday Surprise!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display.swap" rel="stylesheet">
    <style>
        :root{
            --card: rgba(19, 34, 51, 0.7); /* Darker, more solid card */
            --sidebar-bg: #132233;
            --accent: #4da6ff;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: "Poppins", sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            color: #fff;
            overflow: hidden;
            position: relative;
            z-index: 0;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: url('background.jpg') no-repeat center center/cover fixed;
            filter: brightness(70%);
            z-index: -1;
        }
        /* Sidebar CSS */
        .sidebar {
            position: fixed; top: 0; left: -260px;
            width: 260px; height: 100%;
            background: var(--sidebar-bg);
            padding: 30px 20px;
            transition: left 0.3s ease;
            z-index: 2000;
            overflow-y: auto;
        }
        .sidebar.active { left: 0; }
        .sidebar a {
            display: block; padding: 15px 0; color: #fff;
            font-size: 20px; text-decoration: none;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .sidebar a:hover { color: var(--accent); }
        .close-btn { font-size: 22px; color: #fff; cursor: pointer; text-align: right; margin-bottom: 20px; }
        .hamburger {
            font-size: 28px; cursor: pointer; color: white;
            position: fixed; top: 18px; left: 18px; z-index: 2100;
            background: rgba(19,34,51,0.7);
            border-radius: 8px; padding: 6px 12px;
            transition: background 0.2s;
        }
        .hamburger:hover { background: var(--accent); color: #132233; }
        
        /* Birthday Card & Effects */
        .stars-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
        .star { position: absolute; background-color: #fff; border-radius: 50%; animation: fall linear infinite; }
        @keyframes fall {
            from { transform: translateY(-20px); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0; }
        }
        .card {
            background: var(--card);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        h1 {
            font-size: 2.8em; font-weight: 700; margin-bottom: 10px;
            text-shadow: 0 0 8px #ff9d76, 0 0 16px #ff6f61;
            animation: glowPulse 2s infinite alternate;
        }
        @keyframes glowPulse {
            from { text-shadow: 0 0 8px #ff9d76, 0 0 16px #ff6f61; }
            to { text-shadow: 0 0 20px #ffd700, 0 0 40px #ff4500; }
        }
        p { font-size: 1.1em; color: #c9d1e6; }
        #birthdayImage {
            width: 200px; height: 200px; border-radius: 50%;
            object-fit: cover; border: 6px solid #f97316;
            margin-top: 25px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            opacity: 0; transform: scale(0.5) rotate(-15deg);
            transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .loaded #birthdayImage { opacity: 1; transform: scale(1) rotate(0deg); }
        
        /* New Animations */
        .balloon {
            position: absolute; bottom: -150px; width: 60px; height: 80px;
            background: radial-gradient(circle at 30% 30%, #ff7eb9, #ff2e63);
            border-radius: 50% 50% 45% 55%;
            animation: floatUp 8s ease-in-out infinite;
            z-index: 1; pointer-events: none;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100vh) rotate(15deg); }
            100% { transform: translateY(0) rotate(-15deg); }
        }
        .confetti {
            position: absolute; width: 10px; height: 10px;
            background: hsl(var(--hue, 0), 100%, 50%);
            top: 0; opacity: 0;
            animation: confettiFall 5s linear infinite;
            pointer-events: none;
        }
        @keyframes confettiFall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(1080deg); opacity: 0; }
        }
    </style>
</head>
<body class="">
    <span class="hamburger" onclick="toggleSidebar()" id="hamburger">&#9776;</span>
    <div class="sidebar" id="sidebar">
      <span class="close-btn" onclick="toggleSidebar()">Menu Ã—</span>
      <a href="index.html">Home</a>
      <a href="Kosmorena25.html">Kosmorena'25</a>
      <a href="Events.html">Events</a>
      </div>

    <div class="stars-container"></div>

    <div class="card">
        <h1>Happy Birthday!</h1>
        <p>Wishing you all the best on your special day from everyone at SEDS!</p>
        <img id="birthdayImage" src="" alt="Your birthday photo!">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Sidebar Script ---
            const sidebar = document.getElementById("sidebar");
            const hamburger = document.getElementById("hamburger");
            window.toggleSidebar = function() {
                sidebar.classList.toggle("active");
                hamburger.style.display = sidebar.classList.contains("active") ? "none" : "inline-block";
            };
            document.addEventListener("click", function(e) {
                if (sidebar.classList.contains("active") && !sidebar.contains(e.target) && e.target !== hamburger) {
                    sidebar.classList.remove("active");
                    hamburger.style.display = "inline-block";
                }
            });

            // --- Effects Script ---
            const body = document.body;
            // Stars
            const starsContainer = document.querySelector('.stars-container');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`; star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.animationDuration = `${Math.random() * 5 + 3}s`;
                star.style.animationDelay = `${Math.random() * 5}s`;
                starsContainer.appendChild(star);
            }
            // Balloons
            for (let i = 0; i < 6; i++) {
                const balloon = document.createElement("div");
                balloon.classList.add("balloon");
                balloon.style.left = `${Math.random() * 90}%`;
                balloon.style.animationDuration = `${Math.random() * 6 + 8}s`;
                balloon.style.animationDelay = `${Math.random() * 5}s`;
                balloon.style.background = `radial-gradient(circle at 30% 30%, hsl(${Math.random()*360}, 90%, 70%), hsl(${Math.random()*360}, 90%, 50%))`;
                body.appendChild(balloon);
            }
            // Confetti
            for (let i = 0; i < 80; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.setProperty("--hue", Math.random() * 360);
                confetti.style.animationDuration = `${Math.random() * 3 + 4}s`;
                confetti.style.animationDelay = `${Math.random() * 5}s`;
                body.appendChild(confetti);
            }

            // --- Image Display Script ---
            const params = new URLSearchParams(window.location.search);
            const photoUrl = params.get('photo');
            const imageElement = document.getElementById('birthdayImage');
            
            if (photoUrl && photoUrl !== 'null') {
                imageElement.src = photoUrl;
                setTimeout(() => {
                    body.classList.add('loaded');
                }, 100);
            } else {
                imageElement.style.display = 'none';
            }
        });
    </script>
</body>
</html>
